---
title: "[Concurrency] GCD"
tags: 
- Concurrency
use_math: true
header: 
  teaser: 
---

# 1️⃣ 동시성이 없던 시절
```swift
print("1. 데이터 요청 시작")
sleep(0)
print("2. 데이터 로딩 완료")
print("3. 화면 업데이트")
```
- 초기 컴퓨터 프로그램은 한 번에 하나의 작업(싱글 스레드)만 실행하였다.
- 모든 작업이 메인 스레드에서 실행되기 때문에 하나의 작업이 오래 걸리면 앱이 멈출 수 있다.
- 즉 사용자가 앱을 실행하면 모든 코드가 한 줄씩 실행되었다.
- 문제점: sleep(3) 즉 무거운 작업으로 3초동안 앱이 멈춘다(UI가 멈춤)

# 2️⃣ GCD(Grand Control Dispatch) 등장 (iOS4, 2010)
```swift
# GCD 코드 예제(비동기)
print("1. 데이터 요청 시작")

DispatchQueue.global().async {
    sleep(3)  // 3초 동안 백그라운드에서 실행
    print("2. 데이터 로딩 완료")
}

print("3. 화면 업데이트")

/*
1. 데이터 요청 시작
3. 화면 업데이트
2. 데이터 로딩 완료  (3초 후 실행됨)
*/
```
- 멀티스레드를 쉽게 다룰 수 있도록 애플이 만든 기술이다
- 비동기 처리 가능으로 UI멈춤을 방지한다
- 여러 개의 작업을 백그라운드에서 실행할 수 있다
- 이전에는 개발자가 직접 NSThread를 관리해야 했지만, GCD를 사용하면 쉽게 스레드를 관리할 수 있게 되었다

# GCD 장단점
- 장점: UI가 멈추지 않고, 백그라운드에서 데이터를 가져올 수 있다.
- 단점: 코드가 DispatchQueue를 계속 사용해야 해서 가독성이 떨어지고 콜백 중첩 문제가 발생한다

# 3️⃣ Concurrency(Async/Await) 개념 등장 (iOS5)
- GCD 덕분에 동시 작업이 가능해졌지만, 여전히 개발자가 직접 스레드를 관리해야 했었다. 그래서 등장한 개념이 Concurrency(동시성)

# Concurrency란?
- 여러 작업을 동시에 처리할 수 있는 개념
- 하지만 모든 작업이 실제로 동시에 실행되는 것은 아니다(비동기로 실행될 수도 있음)
- iOS에서는 GCD와 같은 도구를 사용하여 Concurrency를 활용할 수 있다.

## 📌 즉, Concurrency는 개념이고, GCD는 이를 구현하는 도구다!

